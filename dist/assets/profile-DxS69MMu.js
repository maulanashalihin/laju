import{p as Na,j as m,i as Ta,f as P,x as Ua,a as h,t as w,e as x,g as s,b as d,c as Ba,d as Ia,s as t,h as e,n as i,k,A as _,B as y,l as C,C as q,D as O}from"./inertia-D-S6W8dG.js";import{H as Ma,s as Sa}from"./Header-BFFu8kxj.js";import{b as v,p as R}from"./event-modifiers-CJvQNb4T.js";import{T as n}from"./helper-DW05KIta.js";/* empty css              */import"./link-BXpzPmof.js";var Ea=P('<img alt="Profile" class="w-full h-full object-cover"/>'),Va=P('<div class="w-full h-full flex items-center justify-center"><span class="text-2xl font-bold text-primary-600 dark:text-primary-400"> </span></div>'),La=q('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Saving...',1),Qa=q('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Updating...',1),Ya=P('<!> <div class="max-w-4xl mx-auto p-4"><div class="max-w-3xl mx-auto mb-8"><div class="bg-white mt-24 dark:bg-slate-900 rounded-lg shadow-sm overflow-hidden"><div class="p-6"><div class="flex items-center space-x-4"><div class="relative group"><div class="w-20 h-20 rounded-full bg-primary-100 dark:bg-primary-900 overflow-hidden"><!></div> <label class="absolute bottom-0 right-0 bg-primary-500 text-white p-1.5 rounded-full cursor-pointer hover:bg-primary-600 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <input type="file" accept="image/*" class="hidden"/></label></div> <div><h1 class="text-2xl font-bold text-slate-900 dark:text-white"> </h1> <p class="text-slate-500 dark:text-slate-400"> </p></div></div></div></div></div> <div class="max-w-3xl mx-auto space-y-6"><div class="bg-white dark:bg-slate-900 rounded-lg shadow-sm"><div class="p-6"><h2 class="text-lg font-medium text-slate-900 dark:text-white mb-6">Personal Information</h2> <form class="space-y-6"><div class="grid grid-cols-1 gap-6"><div class="space-y-1"><label for="name" class="block text-sm font-medium text-slate-700 dark:text-slate-300">Name</label> <input type="text" id="name" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-slate-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-slate-600 dark:text-white transition duration-200 ease-in-out" placeholder="Your full name"/></div> <div class="space-y-1"><label for="email" class="block text-sm font-medium text-slate-700 dark:text-slate-300">Email</label> <input type="email" id="email" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-slate-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-slate-600 dark:text-white transition duration-200 ease-in-out" placeholder="you@example.com"/></div> <div class="space-y-1"><label for="phone" class="block text-sm font-medium text-slate-700 dark:text-slate-300">Phone</label> <input type="text" id="phone" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-slate-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-slate-600 dark:text-white transition duration-200 ease-in-out" placeholder="Your phone number"/></div></div> <div class="flex justify-end"><button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium shadow-sm hover:shadow-md transition duration-200 ease-in-out dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></div></div> <div class="bg-white dark:bg-slate-900 rounded-lg shadow-sm"><div class="p-6"><h2 class="text-lg font-medium text-slate-900 dark:text-white mb-6">Change Password</h2> <form class="space-y-6"><div class="grid grid-cols-1 gap-6"><div><label for="current_password" class="block text-sm font-medium text-slate-700 dark:text-slate-300">Current Password</label> <input type="password" id="current_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-slate-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-slate-600 dark:text-white transition duration-200 ease-in-out"/></div> <div><label for="new_password" class="block text-sm font-medium text-slate-700 dark:text-slate-300">New Password</label> <input type="password" id="new_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-slate-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-slate-600 dark:text-white transition duration-200 ease-in-out"/></div> <div><label for="confirm_password" class="block text-sm font-medium text-slate-700 dark:text-slate-300">Confirm New Password</label> <input type="password" id="confirm_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-slate-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-slate-600 dark:text-white transition duration-200 ease-in-out"/></div></div> <div class="flex justify-end"><button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium shadow-sm hover:shadow-md transition duration-200 ease-in-out dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></div></div></div></div>',1);function Ka(G,A){Ia(A,!1);let r=Na(A,"user",12),p=m(),c=m(),u=m(),l=m(!1),g=m(r().avatar||null);function J(a){const o=a.target.files[0];if(o){const b=new FormData;b.append("file",o),i(l,!0),C.post("/assets/avatar",b).then(f=>{setTimeout(()=>{i(l,!1),i(g,f.data+"?v="+Date.now())},500),r(r().avatar=f.data+"?v="+Date.now(),!0)}).catch(f=>{i(l,!1)})}}async function K(){i(l,!0);try{r(r().connection_details=connections,!0);const a=await C.post("/change-profile",r());n("Profile updated","success")}catch(a){a.response.data.code=="SQLITE_CONSTRAINT_UNIQUE"?n("username atau email sudah digunakan","error"):n(a.response.data.code,"error")}i(l,!1)}async function W(){if(s(c)!=s(u)){n("Password not match","error");return}if(!s(p)||!s(c)||!s(u)){n("Please fill all fields","error");return}i(l,!0);try{const a=await C.post("/auth/change-password",{current_password:s(p),new_password:s(c),confirm_password:s(u)});n(a.data.message),i(p,""),i(c,""),i(u,"")}catch(a){n(a.response.data.message,"error")}i(l,!1)}Ta();var j=Ya(),z=Ua(j);Ma(z,{group:"profile"});var X=t(z,2),D=e(X),Z=e(D),$=e(Z),aa=e($),H=e(aa),N=e(H),ea=e(N);{var ra=a=>{var o=Ea();w(()=>Sa(o,"src",s(g))),d(a,o)},ta=a=>{var o=Va(),b=e(o),f=e(b);w(Ha=>k(f,Ha),[()=>(_(r()),y(()=>r().name.charAt(0).toUpperCase()))]),d(a,o)};h(ea,a=>{s(g)?a(ra):a(ta,!1)})}var sa=t(N,2),oa=t(e(sa),2),ia=t(H,2),T=e(ia),la=e(T),da=t(T,2),na=e(da),ca=t(D,2),U=e(ca),ua=e(U),B=t(e(ua),2),I=e(B),M=e(I),va=t(e(M),2),S=t(M,2),pa=t(e(S),2),fa=t(S,2),ma=t(e(fa),2),ba=t(I,2),E=e(ba),ga=e(E);{var ha=a=>{var o=La();d(a,o)},wa=a=>{var o=O("Save Changes");d(a,o)};h(ga,a=>{s(l)?a(ha):a(wa,!1)})}var xa=t(U,2),ka=e(xa),V=t(e(ka),2),L=e(V),Q=e(L),_a=t(e(Q),2),Y=t(Q,2),ya=t(e(Y),2),Ca=t(Y,2),Pa=t(e(Ca),2),Aa=t(L,2),F=e(Aa),ja=e(F);{var za=a=>{var o=Qa();d(a,o)},Da=a=>{var o=O("Update Password");d(a,o)};h(ja,a=>{s(l)?a(za):a(Da,!1)})}w(()=>{k(la,(_(r()),y(()=>r().name))),k(na,(_(r()),y(()=>r().email))),E.disabled=s(l),F.disabled=s(l)}),x("change",oa,J),v(va,()=>r().name,a=>r(r().name=a,!0)),v(pa,()=>r().email,a=>r(r().email=a,!0)),v(ma,()=>r().phone,a=>r(r().phone=a,!0)),x("submit",B,R(K)),v(_a,()=>s(p),a=>i(p,a)),v(ya,()=>s(c),a=>i(c,a)),v(Pa,()=>s(u),a=>i(u,a)),x("submit",V,R(W)),d(G,j),Ba()}export{Ka as default};
