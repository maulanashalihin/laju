import{p as Nr,j as g,i as Tr,f as P,x as Ur,a as b,t as h,e as w,g as s,b as l,c as Br,d as Ir,s as t,h as a,n as i,k as x,A as k,B as _,l as C,C as q,D as O}from"./inertia-yxnJq2BR.js";import{H as Mr,s as Sr}from"./Header-Dmw1RGbe.js";import{b as v}from"./input-BoE4Da2q.js";import{p as R}from"./link-BE_5ax8X.js";import{T as n}from"./helper-DW05KIta.js";var Er=P('<img alt="Profile" class="w-full h-full object-cover"/>'),Vr=P('<div class="w-full h-full flex items-center justify-center"><span class="text-2xl font-bold text-primary-600 dark:text-primary-400"> </span></div>'),Lr=q('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Saving...',1),Qr=q('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Updating...',1),Yr=P('<!> <div class="max-w-4xl mx-auto p-4"><div class="max-w-3xl mx-auto mb-8"><div class="bg-white mt-24 dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden"><div class="p-6"><div class="flex items-center space-x-4"><div class="relative group"><div class="w-20 h-20 rounded-full bg-primary-100 dark:bg-primary-900 overflow-hidden"><!></div> <label class="absolute bottom-0 right-0 bg-primary-500 text-white p-1.5 rounded-full cursor-pointer hover:bg-primary-600 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <input type="file" accept="image/*" class="hidden"/></label></div> <div><h1 class="text-2xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-gray-500 dark:text-gray-400"> </p></div></div></div></div></div> <div class="max-w-3xl mx-auto space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm"><div class="p-6"><h2 class="text-lg font-medium text-gray-900 dark:text-white mb-6">Personal Information</h2> <form class="space-y-6"><div class="grid grid-cols-1 gap-6"><div class="space-y-1"><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Name</label> <input type="text" id="name" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out" placeholder="Your full name"/></div> <div class="space-y-1"><label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email</label> <input type="email" id="email" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out" placeholder="you@example.com"/></div> <div class="space-y-1"><label for="phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Phone</label> <input type="text" id="phone" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out" placeholder="Your phone number"/></div></div> <div class="flex justify-end"><button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium shadow-sm hover:shadow-md transition duration-200 ease-in-out dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm"><div class="p-6"><h2 class="text-lg font-medium text-gray-900 dark:text-white mb-6">Change Password</h2> <form class="space-y-6"><div class="grid grid-cols-1 gap-6"><div><label for="current_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Current Password</label> <input type="password" id="current_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out"/></div> <div><label for="new_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">New Password</label> <input type="password" id="new_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out"/></div> <div><label for="confirm_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Confirm New Password</label> <input type="password" id="confirm_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out"/></div></div> <div class="flex justify-end"><button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium shadow-sm hover:shadow-md transition duration-200 ease-in-out dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></div></div></div></div>',1);function Jr(G,A){Ir(A,!1);let e=Nr(A,"user",12),p=g(),c=g(),u=g(),d=g(!1),y=g(e().avatar||null);function J(r){const o=r.target.files[0];if(o){const m=new FormData;m.append("file",o),i(d,!0),C.post("/assets/avatar",m).then(f=>{setTimeout(()=>{i(d,!1),i(y,f.data+"?v="+Date.now())},500),e(e().avatar=f.data+"?v="+Date.now(),!0)}).catch(f=>{i(d,!1)})}}async function K(){i(d,!0);try{e(e().connection_details=connections,!0);const r=await C.post("/change-profile",e());n("Profile updated","success")}catch(r){r.response.data.code=="SQLITE_CONSTRAINT_UNIQUE"?n("username atau email sudah digunakan","error"):n(r.response.data.code,"error")}i(d,!1)}async function W(){if(s(c)!=s(u)){n("Password not match","error");return}if(!s(p)||!s(c)||!s(u)){n("Please fill all fields","error");return}i(d,!0);try{const r=await C.post("/auth/change-password",{current_password:s(p),new_password:s(c),confirm_password:s(u)});n(r.data.message),i(p,""),i(c,""),i(u,"")}catch(r){n(r.response.data.message,"error")}i(d,!1)}Tr();var j=Yr(),z=Ur(j);Mr(z,{group:"profile"});var X=t(z,2),D=a(X),Z=a(D),$=a(Z),rr=a($),H=a(rr),N=a(H),ar=a(N);{var er=r=>{var o=Er();h(()=>Sr(o,"src",s(y))),l(r,o)},tr=r=>{var o=Vr(),m=a(o),f=a(m);h(Hr=>x(f,Hr),[()=>(k(e()),_(()=>e().name.charAt(0).toUpperCase()))]),l(r,o)};b(ar,r=>{s(y)?r(er):r(tr,!1)})}var sr=t(N,2),or=t(a(sr),2),ir=t(H,2),T=a(ir),dr=a(T),lr=t(T,2),nr=a(lr),cr=t(D,2),U=a(cr),ur=a(U),B=t(a(ur),2),I=a(B),M=a(I),vr=t(a(M),2),S=t(M,2),pr=t(a(S),2),fr=t(S,2),gr=t(a(fr),2),mr=t(I,2),E=a(mr),yr=a(E);{var br=r=>{var o=Lr();l(r,o)},hr=r=>{var o=O("Save Changes");l(r,o)};b(yr,r=>{s(d)?r(br):r(hr,!1)})}var wr=t(U,2),xr=a(wr),V=t(a(xr),2),L=a(V),Q=a(L),kr=t(a(Q),2),Y=t(Q,2),_r=t(a(Y),2),Cr=t(Y,2),Pr=t(a(Cr),2),Ar=t(L,2),F=a(Ar),jr=a(F);{var zr=r=>{var o=Qr();l(r,o)},Dr=r=>{var o=O("Update Password");l(r,o)};b(jr,r=>{s(d)?r(zr):r(Dr,!1)})}h(()=>{x(dr,(k(e()),_(()=>e().name))),x(nr,(k(e()),_(()=>e().email))),E.disabled=s(d),F.disabled=s(d)}),w("change",or,J),v(vr,()=>e().name,r=>e(e().name=r,!0)),v(pr,()=>e().email,r=>e(e().email=r,!0)),v(gr,()=>e().phone,r=>e(e().phone=r,!0)),w("submit",B,R(K)),v(kr,()=>s(p),r=>i(p,r)),v(_r,()=>s(c),r=>i(c,r)),v(Pr,()=>s(u),r=>i(u,r)),w("submit",V,R(W)),l(G,j),Br()}export{Jr as default};
